import{g as A,i as D,e as N,n as P,b as I}from"./autoplay-axmbQa6U.js";import{j as m}from"./app-fsdYtuGU.js";import{R as O,P as R}from"./Pagination-DqMPXJ_L.js";function F(l){let{swiper:e,extendParams:S,on:h}=l;S({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let T=!1,g=!1;e.thumbs={swiper:null};function j(){const s=e.thumbs.swiper;if(!s||s.destroyed)return;const t=s.clickedIndex,a=s.clickedSlide;if(a&&a.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof t>"u"||t===null)return;let o;s.params.loop?o=parseInt(s.clickedSlide.getAttribute("data-swiper-slide-index"),10):o=t,e.params.loop?e.slideToLoop(o):e.slideTo(o)}function b(){const{thumbs:s}=e.params;if(T)return!1;T=!0;const t=e.constructor;if(s.swiper instanceof t){if(s.swiper.destroyed)return T=!1,!1;e.thumbs.swiper=s.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(D(s.swiper)){const a=Object.assign({},s.swiper);Object.assign(a,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new t(a),g=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",j),!0}function u(s){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const a=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():t.params.slidesPerView;let o=1;const r=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(o=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(o=1),o=Math.floor(o),t.slides.forEach(d=>d.classList.remove(r)),t.params.loop||t.params.virtual&&t.params.virtual.enabled)for(let d=0;d<o;d+=1)N(t.slidesEl,`[data-swiper-slide-index="${e.realIndex+d}"]`).forEach(n=>{n.classList.add(r)});else for(let d=0;d<o;d+=1)t.slides[e.realIndex+d]&&t.slides[e.realIndex+d].classList.add(r);const c=e.params.thumbs.autoScrollOffset,x=c&&!t.params.loop;if(e.realIndex!==t.realIndex||x){const d=t.activeIndex;let n,w;if(t.params.loop){const i=t.slides.find(v=>v.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);n=t.slides.indexOf(i),w=e.activeIndex>e.previousIndex?"next":"prev"}else n=e.realIndex,w=n>e.previousIndex?"next":"prev";x&&(n+=w==="next"?c:-1*c),t.visibleSlidesIndexes&&t.visibleSlidesIndexes.indexOf(n)<0&&(t.params.centeredSlides?n>d?n=n-Math.floor(a/2)+1:n=n+Math.floor(a/2)-1:n>d&&t.params.slidesPerGroup,t.slideTo(n,s?0:void 0))}}h("beforeInit",()=>{const{thumbs:s}=e.params;if(!(!s||!s.swiper))if(typeof s.swiper=="string"||s.swiper instanceof HTMLElement){const t=A(),a=()=>{const r=typeof s.swiper=="string"?t.querySelector(s.swiper):s.swiper;if(r&&r.swiper)s.swiper=r.swiper,b(),u(!0);else if(r){const c=`${e.params.eventsPrefix}init`,x=d=>{s.swiper=d.detail[0],r.removeEventListener(c,x),b(),u(!0),s.swiper.update(),e.update()};r.addEventListener(c,x)}return r},o=()=>{if(e.destroyed)return;a()||requestAnimationFrame(o)};requestAnimationFrame(o)}else b(),u(!0)}),h("slideChange update resize observerUpdate",()=>{u()}),h("setTransition",(s,t)=>{const a=e.thumbs.swiper;!a||a.destroyed||a.setTransition(t)}),h("beforeDestroy",()=>{const s=e.thumbs.swiper;!s||s.destroyed||g&&s.destroy()}),Object.assign(e.thumbs,{init:b,update:u})}function _(l){let{swiper:e,extendParams:S,emit:h,once:T}=l;S({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function g(){if(e.params.cssMode)return;const u=e.getTranslate();e.setTranslate(u),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function j(){if(e.params.cssMode)return;const{touchEventsData:u,touches:s}=e;u.velocities.length===0&&u.velocities.push({position:s[e.isHorizontal()?"startX":"startY"],time:u.touchStartTime}),u.velocities.push({position:s[e.isHorizontal()?"currentX":"currentY"],time:P()})}function b(u){let{currentPos:s}=u;if(e.params.cssMode)return;const{params:t,wrapperEl:a,rtlTranslate:o,snapGrid:r,touchEventsData:c}=e,d=P()-c.touchStartTime;if(s<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(s>-e.maxTranslate()){e.slides.length<r.length?e.slideTo(r.length-1):e.slideTo(e.slides.length-1);return}if(t.freeMode.momentum){if(c.velocities.length>1){const f=c.velocities.pop(),p=c.velocities.pop(),k=f.position-p.position,C=f.time-p.time;e.velocity=k/C,e.velocity/=2,Math.abs(e.velocity)<t.freeMode.minimumVelocity&&(e.velocity=0),(C>150||P()-f.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=t.freeMode.momentumVelocityRatio,c.velocities.length=0;let n=1e3*t.freeMode.momentumRatio;const w=e.velocity*n;let i=e.translate+w;o&&(i=-i);let v=!1,y;const M=Math.abs(e.velocity)*20*t.freeMode.momentumBounceRatio;let E;if(i<e.maxTranslate())t.freeMode.momentumBounce?(i+e.maxTranslate()<-M&&(i=e.maxTranslate()-M),y=e.maxTranslate(),v=!0,c.allowMomentumBounce=!0):i=e.maxTranslate(),t.loop&&t.centeredSlides&&(E=!0);else if(i>e.minTranslate())t.freeMode.momentumBounce?(i-e.minTranslate()>M&&(i=e.minTranslate()+M),y=e.minTranslate(),v=!0,c.allowMomentumBounce=!0):i=e.minTranslate(),t.loop&&t.centeredSlides&&(E=!0);else if(t.freeMode.sticky){let f;for(let p=0;p<r.length;p+=1)if(r[p]>-i){f=p;break}Math.abs(r[f]-i)<Math.abs(r[f-1]-i)||e.swipeDirection==="next"?i=r[f]:i=r[f-1],i=-i}if(E&&T("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(o?n=Math.abs((-i-e.translate)/e.velocity):n=Math.abs((i-e.translate)/e.velocity),t.freeMode.sticky){const f=Math.abs((o?-i:i)-e.translate),p=e.slidesSizesGrid[e.activeIndex];f<p?n=t.speed:f<2*p?n=t.speed*1.5:n=t.speed*2.5}}else if(t.freeMode.sticky){e.slideToClosest();return}t.freeMode.momentumBounce&&v?(e.updateProgress(y),e.setTransition(n),e.setTranslate(i),e.transitionStart(!0,e.swipeDirection),e.animating=!0,I(a,()=>{!e||e.destroyed||!c.allowMomentumBounce||(h("momentumBounce"),e.setTransition(t.speed),setTimeout(()=>{e.setTranslate(y),I(a,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(h("_freeModeNoMomentumRelease"),e.updateProgress(i),e.setTransition(n),e.setTranslate(i),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,I(a,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(i),e.updateActiveIndex(),e.updateSlidesClasses()}else if(t.freeMode.sticky){e.slideToClosest();return}else t.freeMode&&h("_freeModeNoMomentumRelease");(!t.freeMode.momentum||d>=t.longSwipesMs)&&(h("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:g,onTouchMove:j,onTouchEnd:b}})}function B({review:l}){const e=new Date(l.created_at).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"});return m.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-smd-soft-green flex items-center justify-center text-white font-bold mr-3",children:l.user?l.user.name.charAt(0):"?"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-smd-dark",children:l.user?l.user.name:"Anónimo"}),m.jsx("p",{className:"text-xs text-gray-500",children:e})]})]}),m.jsx(O,{rating:l.rating})]}),m.jsx("p",{className:"text-gray-600",children:l.comment})]})}function q({reviews:l}){return!l||l.length===0?m.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[m.jsx("h2",{className:"text-2xl font-bold font-second text-smd-dark mb-4",children:"Opiniones"}),m.jsx("p",{className:"text-gray-500",children:"Este hotel aún no tiene opiniones. ¡Sé el primero en dejar una!"})]}):m.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[m.jsxs("h2",{className:"text-2xl font-bold font-second text-smd-dark mb-4",children:["Opiniones (",l.total,")"]}),m.jsx("div",{className:"space-y-6",children:l.data.map(e=>m.jsx(B,{review:e},e.id))}),m.jsx(R,{links:l.links})]})}export{q as R,F as T,_ as f};
