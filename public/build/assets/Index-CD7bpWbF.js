import{r as n,u as b,j as e,H as y,L as d,a as v}from"./app-23aZrtaW.js";import{A as w}from"./AdminLayout-BaNJbCUY.js";import{P as R}from"./Pagination-BjCmFclT.js";import{M as k,S as F}from"./SecondaryButton-Q3SI3VNH.js";import{D as _}from"./DangerButton-ByW9em3r.js";import{R as C}from"./Rating-B432_J51.js";import{F as D,a as S,b as E}from"./TrashIcon-0vIoZ3MA.js";import"./ApplicationLogo-D-kKVd4A.js";import"./logoWhite-C0-n3M0p.js";import"./NewspaperIcon-F11gz-j-.js";import"./MapIcon-ZO0o0V-p.js";import"./Dropdown-_YoY5Am2.js";import"./transition-D30kd9CN.js";import"./index-bKaOaWek.js";function A({restaurants:t,foodCategories:o,filters:r}){const{data:m,meta:c}=t,[x,l]=n.useState(!1),[i,h]=n.useState(null),{delete:f,processing:p}=b(),u=s=>{h(s),l(!0)},a=()=>l(!1),j=s=>{s.preventDefault(),f(route("admin.restaurants.destroy",i.slug),{onSuccess:()=>a()})},g=s=>{const N=r.food_category==s?{}:{food_category:s};v.get(route("admin.restaurants.index"),N,{preserveState:!0,replace:!0})};return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:"Gestionar Restaurantes"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-smd-dark",children:"Restaurantes"}),e.jsxs(d,{href:route("admin.restaurants.create"),className:"inline-flex items-center gap-2 bg-smd-soft-green text-white font-bold px-4 py-2 rounded-lg hover:bg-green-700",children:[e.jsx(D,{className:"h-5 w-5"}),"Crear Restaurante"]})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:o.data.map(s=>e.jsx("button",{onClick:()=>g(s.id),className:`px-4 py-2 rounded-full text-sm font-semibold transition-colors ${r.food_category==s.id?"bg-smd-soft-green text-white":"bg-white text-smd-dark hover:bg-gray-200"}`,children:s.name},s.id))}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("table",{className:"w-full hidden md:table",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600 uppercase",children:"Nombre"}),e.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600 uppercase",children:"Categoría"}),e.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600 uppercase",children:"Rating"}),e.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600 uppercase",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:m.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"p-4 flex items-center",children:[e.jsx("img",{src:s.image_url,alt:s.name,className:"w-10 h-10 rounded-md object-cover mr-4 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-smd-dark",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.address})]})]}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:s.food_category.name})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{rating:s.reviews_avg_rating}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",s.reviews_count,")"]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{href:route("admin.restaurants.edit",s.slug),className:"text-blue-600 hover:text-blue-900",title:"Editar",children:e.jsx(S,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>u(s),className:"text-red-600 hover:text-red-900",title:"Eliminar",children:e.jsx(E,{className:"h-5 w-5"})})]})})]},s.id))})]}),e.jsx("div",{className:"md:hidden divide-y divide-gray-200"})]}),e.jsx("div",{className:"mt-6",children:e.jsx(R,{links:c.links})}),e.jsx(k,{show:x,onClose:a,children:e.jsxs("form",{onSubmit:j,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium",children:"¿Eliminar Restaurante?"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Se eliminará ",e.jsxs("span",{className:"font-bold",children:['"',i?.name,'"']})," y todos sus platos. Esta acción no se puede deshacer."]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(F,{onClick:a,children:"Cancelar"}),e.jsx(_,{className:"ms-3",disabled:p,children:"Eliminar"})]})]})})]})}A.layout=t=>e.jsx(w,{children:t,title:"Restaurantes"});export{A as default};
