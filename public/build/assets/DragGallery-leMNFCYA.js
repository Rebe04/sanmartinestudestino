import{r as m,j as r}from"./app-H54LIpON.js";import{I as b}from"./InputError-BR5t0ZXR.js";import{F as y}from"./PhotoIcon-CvCYTcTU.js";import{F as v}from"./AdminLayout-CaiFff2-.js";function R({setData:l,data:a,errors:d}){const[g,n]=m.useState(!1),i=m.useRef(null),c=e=>{const t=Array.from(e).filter(s=>s.type!=="image/webp"?(alert(`El archivo '${s.name}' no es WEBP.`),!1):s.size>1048576?(alert(`El archivo '${s.name}' pesa más de 1MB.`),!1):!0);l("images",[...a.images,...t])},o=e=>{e.preventDefault(),e.stopPropagation(),n(e.type==="dragenter"||e.type==="dragover")},p=e=>{e.preventDefault(),e.stopPropagation(),n(!1),e.dataTransfer.files&&c(e.dataTransfer.files)},u=e=>{e.preventDefault(),e.target.files&&c(e.target.files)},f=()=>{i.current.click()},h=e=>{const t=a.images[e];t&&URL.revokeObjectURL(URL.createObjectURL(t)),l("images",a.images.filter((s,x)=>x!==e))};return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-smd-dark",children:"Galería de Imágenes WEBP de menos de 1MB cada una."}),r.jsxs("div",{onDragEnter:o,onDragLeave:o,onDragOver:o,onDrop:p,className:`p-6 border-2 border-dashed rounded-md flex flex-col items-center justify-center text-center ${g?"border-smd-soft-green bg-green-50":"border-gray-300"}`,children:[r.jsx("input",{ref:i,type:"file",multiple:!0,accept:"image/webp",className:"hidden",onChange:u}),r.jsx(y,{className:"h-12 w-12 text-gray-400"}),r.jsx("p",{className:"text-gray-500 mt-2",children:"Arrastra y suelta tus imágenes aquí"}),r.jsx("p",{className:"text-sm text-gray-400 my-2",children:"o"}),r.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 bg-gray-200 rounded-md text-sm font-semibold hover:bg-gray-300",children:"Seleccionar Archivos"})]}),a.images.length>0&&r.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:a.images.map((e,t)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:URL.createObjectURL(e),alt:`preview ${t}`,className:"w-full h-24 object-cover rounded-md border"}),r.jsx("button",{type:"button",onClick:()=>h(t),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-0.5 opacity-0 group-hover:opacity-100",title:"Quitar imagen",children:r.jsx(v,{className:"h-5 w-5"})})]},t))}),r.jsx(b,{message:d.images,className:"mt-2"})]})}export{R as D};
