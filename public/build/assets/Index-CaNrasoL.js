import{r as i,a as b,j as e,H as y,L as d,b as v}from"./app-CWDE8efB.js";import{A as w}from"./AdminLayout-DN4kCnoI.js";import{P as F}from"./Pagination-CR7pivPD.js";import{M as _,S as C}from"./SecondaryButton-CPpZBi1S.js";import{D as L}from"./DangerButton-CBREKZ4k.js";import{F as S,a as k,b as D}from"./TrashIcon-lSBZtFYs.js";import"./ApplicationLogo-DTNjFQG1.js";import"./logoWhite-C0-n3M0p.js";import"./NewspaperIcon-C4DFPRa0.js";import"./MapIcon-smkyrHWD.js";import"./Dropdown-CR8H7Q_X.js";import"./transition-YqkophOD.js";import"./index-B0Rhvhj3.js";function E({places:t,placeCategories:n,filters:o}){const{data:c,meta:m}=t,[x,r]=i.useState(!1),[l,h]=i.useState(null),{delete:u,processing:p}=b(),f=s=>{h(s),r(!0)},a=()=>r(!1),j=s=>{s.preventDefault(),u(route("admin.places.destroy",l.slug),{preserveScroll:!0,onSuccess:()=>a()})},g=s=>{const N=s?{place_category_id:s}:{};v.get(route("admin.places.index"),N,{preserveState:!0,replace:!0})};return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:"Gestionar Lugares"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-smd-dark",children:"Lugares"}),e.jsxs(d,{href:route("admin.places.create"),className:"inline-flex items-center gap-2 bg-smd-soft-green text-white font-bold px-4 py-2 rounded-lg hover:bg-green-700",children:[e.jsx(S,{className:"h-5 w-5"}),"Crear Lugar"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"category_filter",className:"sr-only",children:"Filtrar por categoría"}),e.jsxs("select",{id:"category_filter",onChange:s=>g(s.target.value),value:o.place_category_id||"",className:"w-full md:w-1/3 rounded-md border-gray-300 shadow-sm",children:[e.jsx("option",{value:"",children:"Todas las categorías"}),n.data.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("table",{className:"w-full hidden md:table",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600 uppercase",children:"Nombre"}),e.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600 uppercase",children:"Categoría"}),e.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600 uppercase",children:"Precio"}),e.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600 uppercase",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:c.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"p-4 flex items-center",children:[e.jsx("img",{src:s.image_url,alt:s.name,className:"w-10 h-10 rounded-md object-cover mr-4 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-smd-dark",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.address})]})]}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:s.place_category.name})}),e.jsx("td",{className:"p-4 text-gray-700",children:s.price}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{href:route("admin.places.edit",s.slug),className:"text-blue-600 hover:text-blue-900",title:"Editar",children:e.jsx(k,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>f(s),className:"text-red-600 hover:text-red-900",title:"Eliminar",children:e.jsx(D,{className:"h-5 w-5"})})]})})]},s.id))})]}),e.jsx("div",{className:"md:hidden divide-y divide-gray-200"})]}),e.jsx("div",{className:"mt-6",children:e.jsx(F,{links:m.links})}),e.jsx(_,{show:x,onClose:a,children:e.jsxs("form",{onSubmit:j,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium",children:"¿Eliminar Lugar?"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Se eliminará ",e.jsxs("span",{className:"font-bold",children:['"',l?.name,'"']}),". Esta acción no se puede deshacer."]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(C,{onClick:a,children:"Cancelar"}),e.jsx(L,{className:"ms-3",disabled:p,children:"Eliminar Lugar"})]})]})})]})}E.layout=t=>e.jsx(w,{children:t,title:"Lugares"});export{E as default};
