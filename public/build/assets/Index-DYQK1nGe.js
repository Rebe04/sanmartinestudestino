import{r as m,u as b,j as e,H as g,L as t}from"./app-f3XBro1Q.js";import{A as N}from"./AdminLayout-WlEzAwj2.js";import{P as y}from"./Pagination-BZmojyTu.js";import{M as v,S as w,D as P}from"./DangerButton-CoHELnS8.js";import{F as k,a as c,b as x}from"./TrashIcon-BKD2EtB5.js";import{F as C}from"./EyeIcon-7oALX6_W.js";import"./ApplicationLogo-C8yQ77qy.js";import"./logoWhite-C0-n3M0p.js";import"./NewspaperIcon-DzMc6Czj.js";import"./Dropdown-B3xMmJkq.js";import"./transition-CyBsqfRx.js";import"./index-Cy2m6-nW.js";function E({posts:a}){const{data:r,meta:h}=a,[u,d]=m.useState(!1),[n,i]=m.useState(null),{delete:j,processing:f}=b(),o=s=>{i(s),d(!0)},l=()=>{d(!1),i(null)},p=s=>{s.preventDefault(),j(route("admin.posts.destroy",n),{onSuccess:()=>l()})};return e.jsxs("div",{children:[e.jsx(g,{title:"Gestionar Posts"}),e.jsxs("div",{className:"flex justify-between items-center mb-6 gap-smd-16",children:[e.jsx("h1",{className:"text-3xl font-bold text-smd-dark",children:"Posts del Blog"}),e.jsxs(t,{href:route("admin.posts.create"),className:"inline-flex items-center gap-2 text-sm md:text-smd-16 bg-smd-soft-green text-white font-bold px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(k,{className:"h-5 w-5"}),"Crear Post"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("table",{className:"w-full hidden md:table",children:[e.jsx("thead",{className:"bg-gray-50 border-b-2 border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600 uppercase",children:"Título"}),e.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600 uppercase",children:"Categoría"}),e.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600 uppercase",children:"Estado"}),e.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600 uppercase",children:"Acciones"})]})}),e.jsx("tbody",{children:r.map(s=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsxs("td",{className:"p-4 flex items-center",children:[e.jsx("img",{src:s.image_url,alt:s.name,className:"w-10 h-10 rounded-md object-cover mr-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-smd-dark",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Por: ",s.user.name]})]})]}),e.jsx("td",{className:"p-4 text-gray-700",children:e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:s.category.name})}),e.jsx("td",{className:"p-4",children:s.status==2?e.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Publicado"}):e.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Borrador"})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{target:"_blank",href:route("posts.show",s),className:"text-blue-600 hover:text-blue-900",title:"Editar",children:e.jsx(C,{className:"h-5 w-5"})}),e.jsx(t,{href:route("admin.posts.edit",s),className:"text-orange-400 hover:text-orange-900",title:"Editar",children:e.jsx(c,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>o(s),className:"text-red-600 hover:text-red-900",title:"Eliminar",children:e.jsx(x,{className:"h-5 w-5"})})]})})]},s.id))})]}),e.jsx("div",{className:"md:hidden divide-y divide-gray-200",children:r.map(s=>e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("img",{src:s.image_url,alt:s.name,className:"w-16 h-16 rounded-md object-cover mr-4 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-smd-dark",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Por: ",s.user.name]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Categoría:"}),e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:s.category.name})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Estado:"}),s.status==2?e.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Publicado"}):e.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Borrador"})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t mt-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Acciones:"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(t,{href:route("admin.posts.edit",s.id),className:"text-blue-600 hover:text-blue-900",children:e.jsx(c,{className:"h-6 w-6"})}),e.jsx("button",{onClick:()=>o(s),className:"text-red-600 hover:text-red-900",children:e.jsx(x,{className:"h-6 w-6"})})]})]})]})]},s.id))})]}),e.jsx("div",{className:"mt-6",children:e.jsx(y,{links:h.links})}),e.jsx(v,{show:u,onClose:l,children:e.jsxs("form",{onSubmit:p,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"¿Estás seguro de que quieres eliminar este post?"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Una vez que el post sea eliminado, todos sus recursos y datos se borrarán permanentemente.",e.jsx("br",{}),e.jsxs("span",{className:"font-bold",children:['"',n?.name,'"']})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(w,{onClick:l,children:"Cancelar"}),e.jsx(P,{className:"ms-3",disabled:f,children:"Eliminar Post"})]})]})})]})}E.layout=a=>e.jsx(N,{children:a,title:"Posts"});export{E as default};
